{"ast":null,"code":"import { put, takeLatest, all } from 'redux-saga/effects';\nimport { API_KEY } from './globals';\nimport { UPDATE_MOVIES, REFRESH_MOVIES } from './actions';\nimport store from './store';\n\nfunction* fetchMovies() {\n  const json = yield fetch('https://api.themoviedb.org/3/search/movie?query=' + store.getState().query + '&api_key=' + API_KEY + '&page=' + store.getState().currentPage) //'https://api.themoviedb.org/3/search/movie?query='+ finalQuery + '&api_key=' + API_KEY + \"&page=\" + currentPage)\n  .then(response => response.json());\n  yield put({\n    type: UPDATE_MOVIES,\n    json: json\n  });\n}\n\nfunction* actionWatcher() {\n  yield takeLatest(REFRESH_MOVIES, fetchMovies);\n}\n\nexport default function* rootSaga() {\n  yield all([actionWatcher()]);\n}","map":{"version":3,"sources":["E:\\MovieBuff_React-Redux\\src\\sagas.js"],"names":["put","takeLatest","all","API_KEY","UPDATE_MOVIES","REFRESH_MOVIES","store","fetchMovies","json","fetch","getState","query","currentPage","then","response","type","actionWatcher","rootSaga"],"mappings":"AAAA,SAASA,GAAT,EAAcC,UAAd,EAA0BC,GAA1B,QAAqC,oBAArC;AACA,SAAQC,OAAR,QAAsB,WAAtB;AACA,SAAQC,aAAR,EAAuBC,cAAvB,QAA4C,WAA5C;AACA,OAAOC,KAAP,MAAkB,SAAlB;;AAGA,UAAUC,WAAV,GAAwB;AACtB,QAAMC,IAAI,GAAG,MAAMC,KAAK,CAAC,qDAAqDH,KAAK,CAACI,QAAN,GAAiBC,KAAtE,GAA8E,WAA9E,GAA4FR,OAA5F,GAAsG,QAAtG,GAAiHG,KAAK,CAACI,QAAN,GAAiBE,WAAnI,CAAL,CAAoJ;AAApJ,GACZC,IADY,CACPC,QAAQ,IAAIA,QAAQ,CAACN,IAAT,EADL,CAAnB;AAEA,QAAMR,GAAG,CAAC;AAAEe,IAAAA,IAAI,EAAEX,aAAR;AAAuBI,IAAAA,IAAI,EAAEA;AAA7B,GAAD,CAAT;AACD;;AAED,UAAUQ,aAAV,GAA0B;AACxB,QAAMf,UAAU,CAACI,cAAD,EAAiBE,WAAjB,CAAhB;AACD;;AAED,eAAe,UAAUU,QAAV,GAAqB;AACjC,QAAMf,GAAG,CAAC,CACRc,aAAa,EADL,CAAD,CAAT;AAGF","sourcesContent":["import { put, takeLatest, all } from 'redux-saga/effects';\r\nimport {API_KEY} from './globals';\r\nimport {UPDATE_MOVIES, REFRESH_MOVIES} from './actions';\r\nimport store from './store';\r\n\r\n\r\nfunction* fetchMovies() {\r\n  const json = yield fetch('https://api.themoviedb.org/3/search/movie?query=' + store.getState().query + '&api_key=' + API_KEY + '&page=' + store.getState().currentPage)//'https://api.themoviedb.org/3/search/movie?query='+ finalQuery + '&api_key=' + API_KEY + \"&page=\" + currentPage)\r\n        .then(response => response.json(), );\r\n  yield put({ type: UPDATE_MOVIES, json: json, });\r\n}\r\n\r\nfunction* actionWatcher() {\r\n  yield takeLatest(REFRESH_MOVIES, fetchMovies)\r\n}\r\n\r\nexport default function* rootSaga() {\r\n   yield all([\r\n     actionWatcher(),\r\n   ]);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}